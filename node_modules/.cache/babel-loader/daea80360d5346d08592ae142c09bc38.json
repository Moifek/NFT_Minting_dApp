{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EncryptedData = void 0;\n\nconst derivationParams_1 = require(\"./derivationParams\");\n\nclass EncryptedData {\n  constructor(data) {\n    this.id = data.id;\n    this.version = data.version;\n    this.ciphertext = data.ciphertext;\n    this.iv = data.iv;\n    this.cipher = data.cipher;\n    this.kdf = data.kdf;\n    this.kdfparams = data.kdfparams;\n    this.mac = data.mac;\n    this.salt = data.salt;\n  }\n\n  toJSON() {\n    return {\n      version: this.version,\n      id: this.id,\n      crypto: {\n        ciphertext: this.ciphertext,\n        cipherparams: {\n          iv: this.iv\n        },\n        cipher: this.cipher,\n        kdf: this.kdf,\n        kdfparams: {\n          dklen: this.kdfparams.dklen,\n          salt: this.salt,\n          n: this.kdfparams.n,\n          r: this.kdfparams.r,\n          p: this.kdfparams.p\n        },\n        mac: this.mac\n      }\n    };\n  }\n\n  static fromJSON(data) {\n    return new EncryptedData({\n      version: data.version,\n      id: data.id,\n      ciphertext: data.crypto.ciphertext,\n      iv: data.crypto.cipherparams.iv,\n      cipher: data.crypto.cipher,\n      kdf: data.crypto.kdf,\n      kdfparams: new derivationParams_1.ScryptKeyDerivationParams(data.crypto.kdfparams.n, data.crypto.kdfparams.r, data.crypto.kdfparams.p, data.crypto.kdfparams.dklen),\n      salt: data.crypto.kdfparams.salt,\n      mac: data.crypto.mac\n    });\n  }\n\n}\n\nexports.EncryptedData = EncryptedData;","map":{"version":3,"sources":["../../src/crypto/encryptedData.ts"],"names":[],"mappings":";;;;;;;AAAA,MAAA,kBAAA,GAAA,OAAA,CAAA,oBAAA,CAAA;;AAEA,MAAa,aAAb,CAA0B;EAWxB,WAAA,CAAY,IAAZ,EAA+C;IAC7C,KAAK,EAAL,GAAU,IAAI,CAAC,EAAf;IACA,KAAK,OAAL,GAAe,IAAI,CAAC,OAApB;IACA,KAAK,UAAL,GAAkB,IAAI,CAAC,UAAvB;IACA,KAAK,EAAL,GAAU,IAAI,CAAC,EAAf;IACA,KAAK,MAAL,GAAc,IAAI,CAAC,MAAnB;IACA,KAAK,GAAL,GAAW,IAAI,CAAC,GAAhB;IACA,KAAK,SAAL,GAAiB,IAAI,CAAC,SAAtB;IACA,KAAK,GAAL,GAAW,IAAI,CAAC,GAAhB;IACA,KAAK,IAAL,GAAY,IAAI,CAAC,IAAjB;EACD;;EAED,MAAM,GAAA;IACJ,OAAO;MACL,OAAO,EAAE,KAAK,OADT;MAEL,EAAE,EAAE,KAAK,EAFJ;MAGL,MAAM,EAAE;QACN,UAAU,EAAE,KAAK,UADX;QAEN,YAAY,EAAE;UAAE,EAAE,EAAE,KAAK;QAAX,CAFR;QAGN,MAAM,EAAE,KAAK,MAHP;QAIN,GAAG,EAAE,KAAK,GAJJ;QAKN,SAAS,EAAE;UACT,KAAK,EAAE,KAAK,SAAL,CAAe,KADb;UAET,IAAI,EAAE,KAAK,IAFF;UAGT,CAAC,EAAE,KAAK,SAAL,CAAe,CAHT;UAIT,CAAC,EAAE,KAAK,SAAL,CAAe,CAJT;UAKT,CAAC,EAAE,KAAK,SAAL,CAAe;QALT,CALL;QAYN,GAAG,EAAE,KAAK;MAZJ;IAHH,CAAP;EAkBD;;EAEc,OAAR,QAAQ,CAAC,IAAD,EAAU;IACvB,OAAO,IAAI,aAAJ,CAAkB;MACvB,OAAO,EAAE,IAAI,CAAC,OADS;MAEvB,EAAE,EAAE,IAAI,CAAC,EAFc;MAGvB,UAAU,EAAE,IAAI,CAAC,MAAL,CAAY,UAHD;MAIvB,EAAE,EAAE,IAAI,CAAC,MAAL,CAAY,YAAZ,CAAyB,EAJN;MAKvB,MAAM,EAAE,IAAI,CAAC,MAAL,CAAY,MALG;MAMvB,GAAG,EAAE,IAAI,CAAC,MAAL,CAAY,GANM;MAOvB,SAAS,EAAE,IAAI,kBAAA,CAAA,yBAAJ,CACT,IAAI,CAAC,MAAL,CAAY,SAAZ,CAAsB,CADb,EAET,IAAI,CAAC,MAAL,CAAY,SAAZ,CAAsB,CAFb,EAGT,IAAI,CAAC,MAAL,CAAY,SAAZ,CAAsB,CAHb,EAIT,IAAI,CAAC,MAAL,CAAY,SAAZ,CAAsB,KAJb,CAPY;MAavB,IAAI,EAAE,IAAI,CAAC,MAAL,CAAY,SAAZ,CAAsB,IAbL;MAcvB,GAAG,EAAE,IAAI,CAAC,MAAL,CAAY;IAdM,CAAlB,CAAP;EAgBD;;AA7DuB;;AAA1B,OAAA,CAAA,aAAA,GAAA,aAAA","sourceRoot":"","sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EncryptedData = void 0;\r\nconst derivationParams_1 = require(\"./derivationParams\");\r\nclass EncryptedData {\r\n    constructor(data) {\r\n        this.id = data.id;\r\n        this.version = data.version;\r\n        this.ciphertext = data.ciphertext;\r\n        this.iv = data.iv;\r\n        this.cipher = data.cipher;\r\n        this.kdf = data.kdf;\r\n        this.kdfparams = data.kdfparams;\r\n        this.mac = data.mac;\r\n        this.salt = data.salt;\r\n    }\r\n    toJSON() {\r\n        return {\r\n            version: this.version,\r\n            id: this.id,\r\n            crypto: {\r\n                ciphertext: this.ciphertext,\r\n                cipherparams: { iv: this.iv },\r\n                cipher: this.cipher,\r\n                kdf: this.kdf,\r\n                kdfparams: {\r\n                    dklen: this.kdfparams.dklen,\r\n                    salt: this.salt,\r\n                    n: this.kdfparams.n,\r\n                    r: this.kdfparams.r,\r\n                    p: this.kdfparams.p\r\n                },\r\n                mac: this.mac,\r\n            }\r\n        };\r\n    }\r\n    static fromJSON(data) {\r\n        return new EncryptedData({\r\n            version: data.version,\r\n            id: data.id,\r\n            ciphertext: data.crypto.ciphertext,\r\n            iv: data.crypto.cipherparams.iv,\r\n            cipher: data.crypto.cipher,\r\n            kdf: data.crypto.kdf,\r\n            kdfparams: new derivationParams_1.ScryptKeyDerivationParams(data.crypto.kdfparams.n, data.crypto.kdfparams.r, data.crypto.kdfparams.p, data.crypto.kdfparams.dklen),\r\n            salt: data.crypto.kdfparams.salt,\r\n            mac: data.crypto.mac,\r\n        });\r\n    }\r\n}\r\nexports.EncryptedData = EncryptedData;\r\n//# sourceMappingURL=encryptedData.js.map"]},"metadata":{},"sourceType":"script"}