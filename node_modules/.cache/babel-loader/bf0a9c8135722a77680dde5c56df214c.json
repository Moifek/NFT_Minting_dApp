{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NonFungibleTokenOfAccountOnNetwork = exports.FungibleTokenOfAccountOnNetwork = void 0;\n\nconst bignumber_js_1 = require(\"bignumber.js\");\n\nconst primitives_1 = require(\"./primitives\");\n\nclass FungibleTokenOfAccountOnNetwork {\n  constructor() {\n    this.identifier = \"\";\n    this.balance = new bignumber_js_1.BigNumber(0);\n  }\n\n  static fromHttpResponse(payload) {\n    let result = new FungibleTokenOfAccountOnNetwork();\n    result.identifier = payload.tokenIdentifier || payload.identifier || \"\";\n    result.balance = new bignumber_js_1.BigNumber(payload.balance || 0);\n    return result;\n  }\n\n}\n\nexports.FungibleTokenOfAccountOnNetwork = FungibleTokenOfAccountOnNetwork;\n\nclass NonFungibleTokenOfAccountOnNetwork {\n  constructor(init) {\n    this.identifier = \"\";\n    this.collection = \"\";\n    this.timestamp = 0;\n    this.attributes = Buffer.from([]);\n    this.nonce = 0;\n    this.type = \"\";\n    this.name = \"\";\n    this.creator = new primitives_1.Address(\"\");\n    this.supply = new bignumber_js_1.BigNumber(0);\n    this.decimals = 0;\n    this.royalties = new bignumber_js_1.BigNumber(0);\n    this.assets = [];\n    Object.assign(this, init);\n  }\n\n  static fromProxyHttpResponse(payload) {\n    let result = NonFungibleTokenOfAccountOnNetwork.fromHttpResponse(payload);\n    result.identifier = payload.tokenIdentifier || \"\";\n    result.collection = NonFungibleTokenOfAccountOnNetwork.parseCollectionFromIdentifier(result.identifier);\n    result.royalties = new bignumber_js_1.BigNumber(payload.royalties || 0).div(100);\n    return result;\n  }\n\n  static fromProxyHttpResponseByNonce(payload) {\n    let result = NonFungibleTokenOfAccountOnNetwork.fromHttpResponse(payload);\n    let nonceAsHex = new primitives_1.Nonce(result.nonce).hex();\n    result.identifier = `${payload.tokenIdentifier}-${nonceAsHex}`;\n    result.collection = payload.tokenIdentifier || \"\";\n    result.royalties = new bignumber_js_1.BigNumber(payload.royalties || 0).div(100);\n    return result;\n  }\n\n  static fromApiHttpResponse(payload) {\n    let result = NonFungibleTokenOfAccountOnNetwork.fromHttpResponse(payload);\n    result.identifier = payload.identifier || \"\";\n    result.collection = payload.collection || \"\";\n    return result;\n  } // TODO: Compare results from Proxy and API and try to reconciliate them.\n\n\n  static fromHttpResponse(payload) {\n    let result = new NonFungibleTokenOfAccountOnNetwork();\n    result.timestamp = Number(payload.timestamp || 0);\n    result.attributes = Buffer.from(payload.attributes || \"\", \"base64\");\n    result.nonce = payload.nonce || 0;\n    result.type = payload.type || \"\";\n    result.name = payload.name || \"\";\n    result.creator = new primitives_1.Address(payload.creator || \"\");\n    result.decimals = Number(payload.decimals || 0);\n    result.supply = new bignumber_js_1.BigNumber(payload.balance || 1);\n    result.royalties = new bignumber_js_1.BigNumber(payload.royalties || 0);\n    result.assets = payload.assets || [];\n    return result;\n  }\n\n  static parseCollectionFromIdentifier(identifier) {\n    let parts = identifier.split(\"-\");\n    let collection = parts.slice(0, 2).join(\"-\");\n    return collection;\n  }\n\n}\n\nexports.NonFungibleTokenOfAccountOnNetwork = NonFungibleTokenOfAccountOnNetwork;","map":{"version":3,"mappings":"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","names":["FungibleTokenOfAccountOnNetwork","constructor","bignumber_js_1","fromHttpResponse","payload","result","identifier","tokenIdentifier","balance","exports","NonFungibleTokenOfAccountOnNetwork","init","Buffer","from","primitives_1","Object","assign","fromProxyHttpResponse","collection","parseCollectionFromIdentifier","royalties","div","fromProxyHttpResponseByNonce","nonceAsHex","nonce","hex","fromApiHttpResponse","timestamp","Number","attributes","type","name","creator","decimals","supply","assets","parts","split","slice","join"],"sourceRoot":"","sources":["../src/tokens.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}